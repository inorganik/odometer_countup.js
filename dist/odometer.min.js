var t=function(){return t=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},t.apply(this,arguments)},e=window.requestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},n=function(){function n(e){this.version="1.0",this.defaults={duration:.8,lastDigitDelay:.25},this.cell_digits=null,this.options=t(t({},this.defaults),e),this.cell_digits=null}return n.prototype.render=function(t,n){var i=this.options,r=!1;if(!this.cell_digits){if(r=!0,!document.querySelector("style[odometer]")){var o=document.createElement("style");o.setAttribute("odometer","odometer"),o.innerHTML=".odometer-numbers{display:inline-flex;line-height:100%;overflow-y:hidden}.odometer-numbers>span{display:flex;flex-direction:column;justify-content:start;align-items:center;height:1em;will-change:transform;transform:translateY(0)}",document.head.appendChild(o)}t.innerHTML='<div class="odometer-numbers"></div>',this.cell_digits=[]}for(var l='<span style="color:transparent">0</span>',a="transform ".concat(i.duration,"s ease-out"),s=this.cell_digits.length;s<n.length;s++){var c=document.createElement("span");c.style.transition=a,c.innerHTML=r?"":l,t.firstChild&&t.firstChild.appendChild(c),this.cell_digits.push({container:c,current:void 0,position:r?1:0,new:!0})}function d(t,n){t.position--,t.container.appendChild(n),t.lastTimeAdd=+new Date,t.new?(t.new=!1,e((function(){t.container.style.transform="translateY(".concat(t.position,"em)")}))):t.container.style.transform="translateY(".concat(t.position,"em)")}var u,m,h=Math.max(n.length,this.cell_digits.length),f=function(){u=s<n.length?n.charAt(s):null;var t=p.cell_digits[s];t.current!=u&&(t.current=u,(m=document.createElement("span")).innerHTML=null===u?l:u,t.container.children.length<4?d(t,m):function(t,e){t.nextToAdd&&(d(t,t.nextToAdd),clearTimeout(t.lastTimer),t.nextToAdd=null);var n=+new Date,r=1e3*i.lastDigitDelay-(n-t.lastTimeAdd);i.lastDigitDelay<=0||n-t.lastTimeAdd>=1.05*r?(d(t,e),t.nextToAdd=null):(t.nextToAdd=e,t.lastTimer=setTimeout((function(){d(t,t.nextToAdd),t.nextToAdd=null}),1e3*i.duration))}(t,m),clearTimeout(t.timerClean),t.timerClean=setTimeout((function(){t.timerClean=null,t.container.children.length<3||(t.container.style.transition="none",e((function(){for(t.position=-1;t.container.children.length>1;)t.container.removeChild(t.container.firstChild);var n=document.createElement("span");n.innerHTML=l,t.container.insertBefore(n,t.container.firstChild),t.container.style.transform="translateY(".concat(t.position,"em)"),e((function(){t.container.style.transition=a}))})))}),1e3*((i.duration||.8)+(i.duration||.25))+2500))},p=this;for(s=0;s<h;s++)f()},n}();export{n as Odometer};
